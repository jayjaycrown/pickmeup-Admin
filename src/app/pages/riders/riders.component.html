<div class="header bg-yellow pb-8 pt-5 pt-md-8">
	<div class="container-fluid ">
		<div class="header-body">
			<div class="row">
				<div class="col-xl-3 col-lg-6">
					<!-- <div class="card card-stats mb-4 mb-xl-0">
						<div class="card-body">
							<div class="row">
								<div class="col">
									<h5 class="card-title text-uppercase text-muted mb-0">Total</h5>
									<span class="h2 font-weight-bold mb-0">350,897</span>
								</div>
								<div class="col-auto">
									<div class="icon icon-shape bg-primary text-white rounded-circle shadow">
										<i class="fas fa-chart-bar"></i>
									</div>
								</div>
							</div>
							<p class="mt-3 mb-0 text-muted text-sm">
								<span class="text-success mr-2"><i class="fa fa-arrow-up"></i> 3.48%</span>
								<span class="text-nowrap">Since last month</span>
							</p>
						</div>
					</div> -->
				</div>


				<div class="col-xl-3 col-lg-6">
					<div class="card card-stats mb-4 mb-xl-0">
						<div class="card-body">
							<div class="row">
								<div class="col">
									<h5 class="card-title text-uppercase text-muted mb-0">Unverified</h5>
									<span class="h2 font-weight-bold mb-0"> {{ newunRiders.length }} </span>
								</div>
								<div class="col-auto">
									<div class="icon icon-shape bg-primary text-white rounded-circle shadow">
										<i class="fas fa-percent"></i>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
				<div class="col-xl-3 col-lg-6">
					<div class="card card-stats mb-4 mb-xl-0">
						<div class="card-body">
							<div class="row">
								<div class="col">
									<h5 class="card-title text-uppercase text-muted mb-0">Verified</h5>
									<span class="h2 font-weight-bold mb-0"> {{ vRiders.length }} </span>
								</div>
								<div class="col-auto">
									<div class="icon icon-shape bg-primary text-white rounded-circle shadow">
										<i class="fas fa-users"></i>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
					<div class="col-xl-3 col-lg-6">
						<!-- <div class="card card-stats mb-4 mb-xl-0">
						<div class="card-body">
							<div class="row">
								<div class="col">
									<h5 class="card-title text-uppercase text-muted mb-0">New</h5>
									<span class="h2 font-weight-bold mb-0">2,356</span>
								</div>
								<div class="col-auto">
									<div class="icon icon-shape bg-primary text-white rounded-circle shadow">
										<i class="fas fa-chart-pie"></i>
									</div>
								</div>
							</div>
							<p class="mt-3 mb-0 text-muted text-sm">
								<span class="text-danger mr-2"><i class="fas fa-arrow-down"></i> 3.48%</span>
								<span class="text-nowrap">Since last week</span>
							</p>
						</div>
					</div> -->
					</div>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid mt--7">
	<div class="row">
		<div class="col">
			<div class="card shadow">
				<div class="card-header border-0">
					<div class="row">
						<div class="col-md-9">
							<h3 class="mb-0">Unverified Riders Details</h3>
						</div>
						<div class="col-md-3">
							<div class="input-group-sm">
								<input type="text" class="form-control input-sm" name="firstName" [(ngModel)]="firstName"
									(ngModelChange)="search()">
							</div>
						</div>
					</div>
				</div>
					<div class="table-responsive">
						<!-- <div class="table-responsive"> -->
						<table class="table align-items-center">
							<thead class="thead-light">
								<tr role="row">
									<!-- <th scope="col">SN</th> -->
									<th scope="col" (click)="sort('firstName')">First Name &nbsp; <i class="fa fa-sort"></i></th>
									<th scope="col" (click)="sort('lastName')">Last Name &nbsp; <i class="fa fa-sort"></i></th>
									<th scope="col" (click)="sort('email')">Email &nbsp; <i class="fa fa-sort"></i></th>
									<th scope="col" (click)="sort('phone')">Contact &nbsp; <i class="fa fa-sort"></i></th>
									<th>Documents</th>
									<th scope="row">Action</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let user of newunRiders | orderBy: key: reverse | paginate: { itemsPerPage: 5, currentPage: p }"
									role="row">
									<!-- <td>{{  i + 1  }}</td> -->
									<td>{{ user.firstName }} </td>
									<td>{{ user.lastName }}</td>
									<td>{{ user.email }}</td>
									<td>{{ user.phone }}</td>
									<td>
										<div>
											<img [src]="'https://pickmeup.com.ng/api/rider/' + user.ridersCard" alt="" style="width: 50px;height: 50px; margin: 10px" srcset="">
											<img [src]="'https://pickmeup.com.ng/api/rider/' + user.stageCarriage" alt="" style="width: 50px;height: 50px; margin: 10px"  srcset="">
											<img [src]="'https://pickmeup.com.ng/api/rider/' + user.vehicleLicense" alt="" style="width: 50px;height: 50px; margin: 10px"  srcset="">
										</div>
									</td>
									<td>
										<div class="btn-group" role="group" aria-label="Button group">
											<a [routerLink]="[ user.riderId]" class="btn btn-info btn-sm" data-toggle="tooltip"
												data-placement="top" title="View"><i class="fa fa-eye"></i></a>

											<button class="btn btn-danger btn-sm" data-toggle="tooltip" (click)="close(user.riderId)"
												data-placement="top"
												title="Delete">
												<i class="fa fa-trash"></i> </button>
										</div>

									</td>
								</tr>
							</tbody>
							<pagination-controls (pageChange)="p = $event"></pagination-controls>
						</table>
					</div>
			</div>
		</div>
	</div>

	<div class="row mt-5">
		<div class="col">
			<div class="card shadow">
				<div class="card-header border-0">
					<h3 class="mb-0">Verified Riders Details</h3>
				</div>
				<div style="width: 100%; height:auto">
					<perfect-scrollbar>
						<!-- <div class="table-responsive"> -->
						<table class="table table-striped">
							<thead class="thead-light">
								<tr >
									<th>SN</th>
									<th>Name</th>
									<th>Email</th>
									<th>Contact</th>
									<th>Wallet Balance</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let user of vRiders; let i = index" >
									<td>{{ i + 1 }}</td>
									<td>{{ user.firstName }} {{ user.lastName }}</td>
									<td>{{ user.email }}</td>
									<td> {{ user.phone }} </td>
									<td> {{ user.walletBal | currency: 'â‚¦' }} </td>
									<td>
											<button class="btn btn-primary btn-sm" (click)="payRider(template, user.riderId)">Pay Rider</button>
											<button class="btn btn-danger btn-sm" data-toggle="tooltip" data-placement="top" title="Delete"
												(click)="close(user.riderId)">
												Disable </button>


									</td>
								</tr>
							</tbody>
						</table>
						<!-- </div> -->
					</perfect-scrollbar>
				</div>
			</div>
		</div>
	</div>
</div>


<ng-template #template>
	<div class="modal-header">
		<h4 class="modal-title pull-left">Pay Rider</h4>
		<button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<form name="form" #payRiderForm="ngForm" (ngSubmit)="payRiderForm.valid && MakePayment()">
		<div class="modal-body text-center">
			<div class="row">
				<div class="col-12">

					<div class="input-group input-group-alternative mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">Enter Amount</span>
						</div>
						<input type="number" required autocomplete="off" name="amount" #amount="ngModel"
							[(ngModel)]="model.amount" class="form-control"
							[ngClass]="{ 'is-invalid': payRiderForm.submitted && amount.invalid }" required />
					</div>
				</div>
			</div>

		</div>
		<div class="modal-footer">
			<button type="submit" [disabled]="!payRiderForm.valid" class="btn btn-primary">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
				Submit
			</button>
			<button type="button" class="btn btn-light" (click)="decline()">Close</button>
		</div>
	</form>
</ng-template>
